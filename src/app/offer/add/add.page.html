<ion-header>
  <ion-toolbar>
    <ion-title>Add offer</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>

    <form #myForm="ngForm" (ngSubmit)="onSubmit(myForm.value)">
      <ion-row>
        <ion-col size="12" size-sm="8" offset-sm="2">
          <ion-card>
            <ion-list>
              <ion-item>
                <label>
                  <input type="file" class="text-nowrap text-truncate" (change)="selectFile($event)" />
                </label>
              </ion-item>
              <ion-item>
                <ion-label>Title of offer</ion-label>
                <input type="text" [(ngModel)]="offer.title" name="title" required>
              </ion-item>
              <ion-item>
                <ion-label>Price</ion-label>
                <input type="number" name="price" [(ngModel)]="offer.price" required>
              </ion-item>
              <ion-item>
                <!-- todo dokonczyc na wyszukiwanie tego -->
                <ion-label>Vehicle</ion-label>
                <input type="text" name="vehicle">
              </ion-item>
              <ion-item>
                <!-- todo dokonczyc na wyszukiwanie tego -->
                <ion-label>Description</ion-label>
                <textarea type="text" name="description" [(ngModel)]="offer.description"></textarea>
              </ion-item>
              
              <ion-item>
                <ion-button type="submit" [disabled]="!myForm.valid">Add offer</ion-button>

              </ion-item>
            </ion-list>


            <!-- <button class="btn btn-success btn-sm" [disabled]="!selectedFiles" (click)="upload()">
            Upload
          </button> -->

            <div *ngIf="currentFileUpload" class="progress mt-2">
              <div class="progress-bar progress-bar-info" role="progressbar" attr.aria-valuenow="{{ percentage }}"
                aria-valuemin="0" aria-valuemax="100" [ngStyle]="{ width: percentage + '%' }">
                {{ percentage }}%
              </div>
            </div>
          </ion-card>
        </ion-col>
      </ion-row>
    </form>

    <ion-row size=6>
      <ion-col>
        <ion-grid class="ion-align-self-center" *ngFor="let photo of imageToDisplay" size="2">
          <ion-card>
            <ion-img style="width: 80px; height: 80px;" [src]="photo" (click)="photo"></ion-img>

          </ion-card>
        </ion-grid>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>